# DO NOT EDIT. Generated with:
#
#    devctl
#
#    https://github.com/giantswarm/devctl/blob/87f30fd3b955a0daf6017834a776c222d93a207c/pkg/gen/input/workflows/internal/file/create_release.yaml.template
#

name: Create Release
on:
  push:
    branches:
      - 'legacy'
      - 'main'
      - 'master'
      - 'release-v*.*.x'
      # "!" negates previous positive patterns so it has to be at the end.
      - '!release-v*.x.x'

permissions: {}

jobs:
  info:
    uses: giantswarm/github-workflows/.github/workflows/create-release-info.yaml@main
    permissions:
      contents: read
  create_release:
    needs:
      - info
    if: ${{ needs.info.outputs.release == 'true' }}
    uses: giantswarm/github-workflows/.github/workflows/create-release.yaml@main
    permissions:
      contents: write
    with:
      version: "${{ needs.info.outputs.version }}"
      changelog: "${{ needs.info.outputs.changelog }}"
    secrets:
      TAYLORBOT_GITHUB_ACTION: "${{ secrets.TAYLORBOT_GITHUB_ACTION }}"
